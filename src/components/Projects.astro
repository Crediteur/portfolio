---
import { Image } from "astro:assets";

import { projects } from "../data/constants";
---

<div>
  <h2 id="projects" class="py-4">Projects</h2>
  <div>
    <ul class="projects-grid">
      {
        projects.map((project) => (
          <li>
            <p>{project.name}</p>
            <a
              href={project.url}
              class="flex justify-center max-h-96 sm:max-h-72 bg-transparent">
              <Image
                src={project.image}
                alt={project.desc}
                width="640"
                height="360"
                loading="lazy"
                class="project-image object-cover object-top aspect-square rounded-md"
              />
            </a>
            <div>
              <p class="flex flex-row justify-center items-center gap-2 text-xs">
                {project.tags.map((tag) => (
                  <span>{tag}</span>
                ))}
              </p>
            </div>
          </li>
        ))
      }
    </ul>
  </div>
</div>

<style>
  .projects-grid {
    display: grid;
    align-items: center;
    /* auto create columns with defined minmax values */
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 3rem;
    text-align: center;
  }

  .project-image {
    filter: contrast(90%) blur(0.5px) hue-rotate(-60deg);
    mix-blend-mode: screen;
    transition: all 0.4s ease-in-out;
  }

  li:hover .project-image {
    filter: contrast(100%) blur(0) hue-rotate(0);
    mix-blend-mode: normal;
  }
</style>
